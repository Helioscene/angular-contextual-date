!function(){"use strict";angular.module("angular-contextual-date",[])}(),function(){"use strict";function e(){var e={scope:{datetime:"=",timezone:"="},restrict:"EA",controller:t,controllerAs:"CDC",template:"<span ng-bind='CDC.cDateFormatted'></span>",bindToController:!0};return e}function t(e){function t(){a.cDateFormatted=e.format(a.datetime,null,a.timezone)}var a=this;a.cDateFormatted="",t()}angular.module("angular-contextual-date").directive("contextualDate",e),e.$inject=[],t.$inject=["contextualDateService"]}(),function(){"use strict";function e(e){function t(t,a){return e.format(t,null,a)}return t}angular.module("angular-contextual-date").filter("contextualDate",e),e.$inject=["contextualDateService"]}(),function(){"use strict";function e(e,t){function a(e,t,a){var n=s.parseDate(e);if(isNaN(n))return e;var r,o,u=new Date;if(o=s.formatRelative(n,u),s.config.hideFullDate)return o;r=t?t:s.formatFull(n,u,a);var i=s.config.contextualDateFormat,l=i.replace("%fullDate%",r).replace("%relativeDate%",o);return l}function n(t,a,n){var r=s.parseDate(t);if(isNaN(r))return t;a=a||new Date;var o=a.getTime(),u=r.getTime(),i="",l=s.config.thresholds,c=r.getTime()-a.getTime()>0,m=r.getDate()===a.getDate()&&r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear(),d=Math.round(31*l.month),f=new Date(o);f.setDate(f.getDate()-d);var h=new Date(o);h.setDate(h.getDate()+d);var g=!c&&u-f.getTime()>=0,D=c&&h.getTime()-u>=0,M=Math.round(365*l.year),y=new Date(o);y.setDate(y.getDate()-M);var w=new Date(o);w.setDate(w.getDate()+M);var v=!c&&u-y.getTime()>=0,x=c&&w.getTime()-u>=0,p=e("date"),F=s.config.fullDateFormats;return i=m?p(r,F.today,n):g?p(r,F.thisMonth,n):D?p(r,F.nextMonth,n):v?p(r,F.thisYear,n):x?p(r,F.nextYear,n):c?p(r,F.future,n):p(r,F.historical,n)}function r(e){return Array.prototype.join.call(arguments," ").trim()}function o(){var e,a=s.config.language,n=t[0].documentElement.lang;return a&&(e=s.languages[a]),!e&&n&&(e=s.languages[n]),e||(e=s.languages.en_US),e}function u(e,t){var a=s.parseDate(e);if(isNaN(a))return e;t=t||new Date;var n=o(),u=t.getTime()-a.getTime(),i=Math.abs(u),l=i/1e3,c=l/60,m=c/60,d=m/24,f=d/7,h=d/30,g=d/365,D="",M=s.config.thresholds;return i<=M.now?D=n.now:(g>=M.years?D=r(Math.round(g),n.years):g>=M.year?D=r(1,n.year):h>=M.months?D=r(Math.round(h),n.months):h>=M.month?D=r(1,n.month):f>=M.weeks?D=r(Math.round(f),n.weeks):f>=M.week?D=r(1,n.week):d>=M.days?D=r(Math.round(d),n.days):d>=M.day?D=r(1,n.day):m>=M.hours?D=r(Math.round(m),n.hours):m>=M.hour?D=r(1,n.hour):c>=M.minutes?D=r(Math.round(c),n.minutes):c>=M.minute?D=r(1,n.minute):l>=M.seconds?D=r(Math.round(l),n.seconds):l>=M.second?D=r(1,n.second):i>=M.milliseconds?D=r(Math.round(i),n.milliseconds):i>=M.millisecond&&(D=r(1,n.millisecond)),D=D?u>=0?r(n.prefix,D,n.suffix):r(n.futurePrefix,D,n.futureSuffix):n.now),D}function i(e){return e instanceof Date?e:new Date(angular.isNumber(e)?e:/^\d+$/.test(e)?parseInt(e,10):e)}var s={format:a,formatRelative:u,formatFull:n,parseDate:i,config:{hideFullDate:!1,fullDateFormats:{today:"h:mm a",thisMonth:"MMM d 'at' h:mm a",thisYear:"MMM d",historical:"MMM d, y",nextMonth:"MMM d 'at' h:mm a",nextYear:"MMM d, y",future:"MMM d, y"},contextualDateFormat:"%fullDate% (%relativeDate%)",language:null,thresholds:{years:1.75,year:.75,months:1.75,month:.9,weeks:1.75,week:1,days:2,day:1,hours:2,hour:1,minutes:2,minute:1,seconds:2,second:1,milliseconds:2,millisecond:1,now:0}},languages:{en_US:{now:"just now",prefix:"",suffix:"ago",futurePrefix:"",futureSuffix:"from now",millisecond:"millisecond",milliseconds:"milliseconds",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",week:"week",weeks:"weeks",month:"month",months:"months",year:"year",years:"years"}}};return s}angular.module("angular-contextual-date").factory("contextualDateService",e),e.$inject=["$filter","$document"]}();
//# sourceMappingURL=angular-contextual-date.min.js.map